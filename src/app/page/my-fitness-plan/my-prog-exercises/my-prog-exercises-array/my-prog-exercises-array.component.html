<table class="table">
  <thead>
  <tr>
    <th class="col-auto" scope="col">Name</th>
    <th class="col-4" scope="col">Note</th>
    <th class="col-auto text-center" scope="col">Exercise</th>
    <th class="col-3 text-center" scope="col">Sets</th>
    <th class="col-1 text-center" scope="col">Time</th>
    <th class="col-auto text-center" scope="col">Visibility</th>
    <th class="col-auto text-center" scope="col">Trust Label</th>
    <th class="col-1 text-center" scope="col">Collapse</th>
    <th class="col-1 text-center" scope="col">Details</th>
    <th class="col-1 text-center" scope="col">Modify</th>
    <th class="col-1 text-center" scope="col">Delete</th>
  </tr>
  </thead>
  <tbody class="table-group-divider">
  <tr *ngFor="let progExercise of progExercises">
    <td>{{ progExercise.name }}</td>
    <td *ngIf="!showDetails[progExercise.id].show" class="truncate-td">
      {{ progExercise.note }}
    </td>
    <td *ngIf="showDetails[progExercise.id].show">
      {{ progExercise.note }}
    </td>
    <td class="text-center">
      {{ progExercise.exercise.name }}
    </td>

    <td *ngIf="!showDetails[progExercise.id].show">
      <ul class="list-group list-group-flush">
        <li
          *ngFor="let set of showDetails[progExercise.id].sets.slice(0, 2)"
          class="list-group-item d-flex justify-content-center text-center p-0"
        >
          {{ set }}
        </li>
        <li
          *ngIf="progExercise.exercise.muscles.length > 3"
          class="list-group-item d-flex justify-content-center text-center p-0"
        >
          ...
        </li>
      </ul>
    </td>
    <td *ngIf="showDetails[progExercise.id].show">
      <ul class="list-group list-group-flush">
        <li
          *ngFor="let set of showDetails[progExercise.id].sets"
          class="list-group-item d-flex justify-content-center text-center p-0"
        >
          {{ set }}
        </li>
      </ul>
    </td>
    <td class="text-center">
      {{ showDetails[progExercise.id].time }}
    </td>
    <td class="text-center">
      {{ progExercise.visibility }}
    </td>
    <td class="text-center">
      {{ progExercise.trustLabel }}
    </td>
    <td>
      <div class="col p-1 text-center">
        <button
          (click)="expendProgExerciseDetails(progExercise.id.toString())"
          [attr.aria-expanded]="expendProgExerciseDetails"
          [attr.data-bs-target]="'#' + progExercise.id "
          class="btn btn-secondary"
          data-bs-toggle="collapse" type="button"
        >
          <i class="fa-solid fa-angle-down"></i>
        </button>
      </div>
    </td>
    <td>
      <div class="col p-1 text-center">
        <app-modal-button
          (onCLickModalButton)="showMuscleDetails($event)"
          [modalId]="modalId"
          [modalValue]="progExercise"
          btnClass="btn-info"
        >
          <i class="fa-solid fa-eye"></i>

        </app-modal-button>
      </div>
    </td>
    <td>
      <div class="col p-1 text-center">
        <app-modal-button
          (onCLickModalButton)="modifyMuscle($event)"
          [modalId]="modalId"
          [modalValue]="progExercise"
          btnClass="btn-warning"
        >
          <i class="fa-solid fa-pen-to-square"></i>
        </app-modal-button>
      </div>
    </td>
    <td>
      <div class="col p-1 text-center">
        <app-modal-button
          (onCLickModalButton)="delProgExercise($event)"
          [modalId]="modalId"
          [modalValue]="progExercise"
          btnClass="btn-danger"
        >
          <i class="fa-solid fa-trash"></i>
        </app-modal-button>
      </div>
    </td>
  </tr>
  </tbody>
</table>
